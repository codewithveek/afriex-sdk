{"openapi":"3.1.0","info":{"title":"Afriex Business API","version":"1.0.5","description":"Welcome to the Afriex Business API. This API allows you to manage customers, process payments, handle payouts, and receive real-time notifications via webhooks. \n\nFor detailed guidance on authentication, pagination, error handling, and webhooks, please refer to the [dedicated guides](https://afx.apidocumentation.com/guides/) in the top bar. The guide provides a step-by-step instructions to help you integrate seamlessly."},"servers":[{"url":"https://staging.afx-server.com","description":"Staging Base URL"},{"url":"https://prod.afx-server.com","description":"Production Base URL"}],"components":{"securitySchemes":{"ApiKey":{"type":"apiKey","in":"header","name":"x-api-key","description":"Static business API key from the dashboard"}},"parameters":{"X-Api-Version":{"name":"x-api-version","in":"header","required":false,"description":"API version in ISO 8601 format (e.g. 2025-12-28). Defaults to latest stable.","schema":{"type":"string"}}},"schemas":{"Customer":{"type":"object","properties":{"customerId":{"type":"string","description":"The unique identifier for the customer."},"fullName":{"type":"string","description":"The full name of the customer."},"email":{"type":"string","format":"email","description":"The email of the customer."},"phone":{"type":"string","description":"The phone number of the customer in E.164 format."},"countryCode":{"type":"string","description":"The country code of the customer in ISO 3166-1 alpha-2 format."},"kyc":{"type":"object","description":"optional KYC document details."},"meta":{"type":"object","description":"optional meta data you can attach to the customer."}}},"Transaction":{"type":"object","properties":{"transactionId":{"type":"string","description":"The unique identifier for the transaction."},"customerId":{"type":"string","description":"The unique identifier of the customer."},"destinationId":{"type":"string","description":"The unique identifier of the destination payment method."},"sourceAmount":{"type":"string","description":"The souce transaction amount value"},"sourceCurrency":{"type":"string","description":"The currency code of the wallet charged."},"destinationAmount":{"type":"string","description":"The destination transaction amount value"},"destinationCurrency":{"type":"string","description":"The description currency code."},"type":{"type":"string","enum":["WITHDRAWAL","DEPOSIT"],"description":"The type of transaction."},"status":{"type":"string","description":"The status of the transaction."},"meta":{"type":"object","description":"optional meta data you attached to the transaction."},"createdAt":{"type":"string","description":"The date and time the transaction was created."},"updatedAt":{"type":"string","description":"The date and time the transaction was last updated."}}},"TransactionMeta":{"type":"object","properties":{"narration":{"type":"string","description":"The optional reason for the transaction."},"invoice":{"type":"string","description":"The optional invoice in base64 string for the transaction."},"idempotencyKey":{"type":"string"},"merchantId":{"type":"string"}},"required":["merchantId"]},"PaymentMethod":{"type":"object","properties":{"paymentMethodId":{"type":"string","description":"The unique identifier for the payment method."},"customerId":{"type":"string","description":"The unique identifier of the customer."},"institution":{"type":"object","properties":{"institutionId":{"type":"string","description":"The unique identifier of the bank or mobile money provider if required."},"institutionName":{"type":"string","description":"The name of the bank or mobile money provider if required."},"institutionCode":{"type":"string","description":"The code of the bank or mobile money provider."},"institutionAddress":{"type":"string","description":"The address of the bank or mobile money provider if required."}}},"transaction":{"type":"object","properties":{"transactionInvoice":{"type":"string","description":"The invoice for the transaction in base64 string."},"transactionNarration":{"type":"string","description":"The optional reason for the transaction."}}},"channel":{"type":"string","enum":["BANK_ACCOUNT","SWIFT","MOBILE_MONEY","UPI","INTERAC","WE_CHAT"],"description":"The payment method channel."},"countryCode":{"type":"string","description":"The ISO 3166-1 alpha-2 country code."},"accountName":{"type":"string","description":"Name of the account holder."},"accountNumber":{"type":"string","description":"Account number."},"meta":{"type":"object","description":"Optional meta data you attached to the payment method."}}},"PaymentMethodInstitution":{"type":"object","properties":{"institutionId":{"type":"string","description":"The unique identifier of the bank or mobile money provider if required."},"institutionName":{"type":"string","description":"The name of the bank or mobile money provider if required."},"institutionCode":{"type":"string","description":"The code of the bank or mobile money provider."},"institutionAddress":{"type":"string","description":"The address of the bank or mobile money provider if required."}}},"PaymentMethodRecipient":{"type":"object","properties":{"recipientEmail":{"type":"string","format":"email","description":"The email address of the recipient if needed."},"recipientPhone":{"type":"string","description":"The phone number of the recipient in E.164 format."},"recipientAddress":{"type":"string","description":"The address of the recipient if needed."},"recipientName":{"type":"string","description":"The name of the recipient if needed."}}},"PaymentMethodTransaction":{"type":"object","properties":{"transactionInvoice":{"type":"string","description":"The invoice for the transaction in base64 string."},"transactionNarration":{"type":"string","description":"The optional reason for the transaction."}}},"customerId":{"type":"string","description":"The unique identifier of the customer."},"amount":{"type":"number","format":"string","example":"100.50"},"currencyCode":{"type":"string","description":"The 3-letter ISO 4217 alpha code of the currency."}}},"security":[{"ApiKey":[]}],"paths":{"/api/v1/customer":{"post":{"summary":"Create a new customer","description":"Creates a new customer for a business, with optional KYC information.","tags":["Customers"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["fullName","email","phone","countryCode"],"properties":{"fullName":{"type":"string","description":"The full name of the customer.","example":"John Doe"},"email":{"type":"string","format":"email","description":"The email address of the customer.","example":"john.doe@example.com"},"phone":{"type":"string","description":"The phone number of the customer.","example":"+2348192837465"},"countryCode":{"type":"string","description":"The ISO 3166-1 alpha-2 country code of the customer (e.g., 'NG', 'US').","example":"NG"},"kyc":{"type":"object","description":"Optional KYC document details."},"meta":{"type":"object","description":"Optional meta data you can attach to the customer."}}}}}},"responses":{"201":{"description":"Customer created successfully. Returns the newly created customer object.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"customerId":{"type":"string","description":"The unique identifier for the customer."},"fullName":{"type":"string","description":"The full name of the customer."},"email":{"type":"string","format":"email","description":"The email of the customer."},"phone":{"type":"string","description":"The phone number of the customer in E.164 format."},"countryCode":{"type":"string","description":"The country code of the customer in ISO 3166-1 alpha-2 format."},"kyc":{"type":"object","description":"optional KYC document details."},"meta":{"type":"object","description":"optional meta data you can attach to the customer."}}}}}}}},"400":{"description":"Invalid request."},"500":{"description":"Server error."}}},"get":{"summary":"Get customer list","description":"Retrieves a paginated list of customers.","tags":["Customers"],"parameters":[{"name":"page","in":"query","description":"Page number for pagination (starting from 0)","required":false,"schema":{"type":"integer","minimum":0,"default":0,"maximum":100}},{"name":"limit","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","minimum":1,"maximum":50,"default":10}}],"responses":{"200":{"description":"List of customers retrieved successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"customerId":{"type":"string","description":"The unique identifier for the customer."},"fullName":{"type":"string","description":"The full name of the customer."},"email":{"type":"string","format":"email","description":"The email of the customer."},"phone":{"type":"string","description":"The phone number of the customer in E.164 format."},"countryCode":{"type":"string","description":"The country code of the customer in ISO 3166-1 alpha-2 format."},"kyc":{"type":"object","description":"optional KYC document details."},"meta":{"type":"object","description":"optional meta data you can attach to the customer."}}}},"page":{"type":"integer","description":"Current page number"},"total":{"type":"integer","description":"Total number of pages available"}}}}}},"400":{"description":"Invalid request parameters."},"500":{"description":"Server error."}}}},"/api/v1/customer/{customerId}":{"parameters":[{"$ref":"#/components/parameters/x-api-signature"}],"get":{"summary":"Get customer by ID","description":"Retrieves a specific customer by their unique identifier.","tags":["Customers"],"parameters":[{"name":"customerId","in":"path","description":"The unique identifier of the customer","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Customer retrieved successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"customerId":{"type":"string","description":"The unique identifier for the customer."},"fullName":{"type":"string","description":"The full name of the customer."},"email":{"type":"string","format":"email","description":"The email of the customer."},"phone":{"type":"string","description":"The phone number of the customer in E.164 format."},"countryCode":{"type":"string","description":"The country code of the customer in ISO 3166-1 alpha-2 format."},"kyc":{"type":"object","description":"optional KYC document details."},"meta":{"type":"object","description":"optional meta data you can attach to the customer."}}}}}}}},"400":{"description":"Invalid customer ID format."},"404":{"description":"Customer not found."},"500":{"description":"Server error."}}},"delete":{"summary":"Delete customer by ID","description":"Deletes a specific customer by their unique identifier.","tags":["Customers"],"parameters":[{"name":"customerId","in":"path","description":"The unique identifier of the customer","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Customer deleted successfully."},"400":{"description":"Invalid customer ID format."},"404":{"description":"Customer not found."},"500":{"description":"Server error."}}}},"/api/v1/customer/{customerId}/kyc":{"patch":{"summary":"Update customer KYC information","description":"Partially updates a customer's KYC information.","tags":["Customers"],"parameters":[{"name":"customerId","in":"path","description":"The unique identifier of the customer","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"kyc":{"type":"object","description":"Customer KYC object in a key-value format. Key should be one of the allowed KYC doc types","example":{"PASSPORT":"passport.png","DATE_OF_BIRTH":"2000-01-01","COUNTRY":"KE"}}}}}}},"responses":{"200":{"description":"Customer updated successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"customerId":{"type":"string","description":"The unique identifier for the customer."},"fullName":{"type":"string","description":"The full name of the customer."},"email":{"type":"string","format":"email","description":"The email of the customer."},"phone":{"type":"string","description":"The phone number of the customer in E.164 format."},"countryCode":{"type":"string","description":"The country code of the customer in ISO 3166-1 alpha-2 format."},"kyc":{"type":"object","description":"optional KYC document details."},"meta":{"type":"object","description":"optional meta data you can attach to the customer."}}}}}}}},"400":{"description":"Invalid request."},"404":{"description":"Customer not found."},"500":{"description":"Server error."}}}},"/api/v1/transaction":{"post":{"summary":"Create a new transaction","description":"Creates a new transaction for a customer.","tags":["Transactions"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["customerId","destinationAmount","sourceCurrency","destinationCurrency","destinationId"],"properties":{"customerId":{"type":"string","description":"The unique identifier of the customer."},"destinationAmount":{"description":"The transaction amount in the destination currency.","type":"number","format":"string","example":"100.50"},"destinationCurrency":{"type":"string","description":"The 3-letter ISO 4217 currency code of the destination currency (e.g., USD, NGN).","example":"USD"},"sourceCurrency":{"type":"string","description":"The 3-letter ISO 4217 currency code of the source currency (e.g., USD, NGN).","example":"NGN"},"destinationId":{"type":"string","description":"The id of the destination payment method that money will be sent to.","example":"690df3281c11eea59108fcaf"},"meta":{"type":"object","description":"Optional meta data you can attach to the transaction.","properties":{"narration":{"type":"string","description":"The optional reason for the transaction."},"invoice":{"type":"string","description":"The optional invoice in base64 string for the transaction."},"idempotencyKey":{"type":"string"},"merchantId":{"type":"string"}},"required":["merchantId"]}}}}}},"responses":{"201":{"description":"Transaction created successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"transactionId":{"type":"string","description":"The unique identifier for the transaction."},"customerId":{"type":"string","description":"The unique identifier of the customer."},"destinationId":{"type":"string","description":"The unique identifier of the destination payment method."},"sourceAmount":{"type":"string","description":"The souce transaction amount value"},"sourceCurrency":{"type":"string","description":"The currency code of the wallet charged."},"destinationAmount":{"type":"string","description":"The destination transaction amount value"},"destinationCurrency":{"type":"string","description":"The description currency code."},"type":{"type":"string","enum":["WITHDRAWAL","DEPOSIT"],"description":"The type of transaction."},"status":{"type":"string","description":"The status of the transaction."},"meta":{"type":"object","description":"optional meta data you attached to the transaction."},"createdAt":{"type":"string","description":"The date and time the transaction was created."},"updatedAt":{"type":"string","description":"The date and time the transaction was last updated."}}}}}}}},"400":{"description":"Invalid request."},"500":{"description":"Server error."}}},"get":{"summary":"Get transaction list","description":"Retrieves a paginated list of transactions.","tags":["Transactions"],"parameters":[{"name":"page","in":"query","description":"Page number for pagination (starting from 1)","required":false,"schema":{"type":"integer","minimum":0,"default":0}},{"name":"limit","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","minimum":1,"maximum":50,"default":10}}],"responses":{"200":{"description":"List of transactions retrieved successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"transactionId":{"type":"string","description":"The unique identifier for the transaction."},"customerId":{"type":"string","description":"The unique identifier of the customer."},"destinationId":{"type":"string","description":"The unique identifier of the destination payment method."},"sourceAmount":{"type":"string","description":"The souce transaction amount value"},"sourceCurrency":{"type":"string","description":"The currency code of the wallet charged."},"destinationAmount":{"type":"string","description":"The destination transaction amount value"},"destinationCurrency":{"type":"string","description":"The description currency code."},"type":{"type":"string","enum":["WITHDRAWAL","DEPOSIT"],"description":"The type of transaction."},"status":{"type":"string","description":"The status of the transaction."},"meta":{"type":"object","description":"optional meta data you attached to the transaction."},"createdAt":{"type":"string","description":"The date and time the transaction was created."},"updatedAt":{"type":"string","description":"The date and time the transaction was last updated."}}}},"page":{"type":"integer","description":"Current page number"},"total":{"type":"integer","description":"Total number of pages"}}}}}},"400":{"description":"Invalid request parameters."},"500":{"description":"Server error."}}}},"/api/v1/transaction/{transactionId}":{"parameters":[{"$ref":"#/components/parameters/x-api-signature"}],"get":{"summary":"Get transaction by ID","description":"Retrieves a specific transaction by its unique identifier.","tags":["Transactions"],"parameters":[{"name":"transactionId","in":"path","description":"The unique identifier of the transaction","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Transaction retrieved successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"transactionId":{"type":"string","description":"The unique identifier for the transaction."},"customerId":{"type":"string","description":"The unique identifier of the customer."},"destinationId":{"type":"string","description":"The unique identifier of the destination payment method."},"sourceAmount":{"type":"string","description":"The souce transaction amount value"},"sourceCurrency":{"type":"string","description":"The currency code of the wallet charged."},"destinationAmount":{"type":"string","description":"The destination transaction amount value"},"destinationCurrency":{"type":"string","description":"The description currency code."},"type":{"type":"string","enum":["WITHDRAWAL","DEPOSIT"],"description":"The type of transaction."},"status":{"type":"string","description":"The status of the transaction."},"meta":{"type":"object","description":"optional meta data you attached to the transaction."},"createdAt":{"type":"string","description":"The date and time the transaction was created."},"updatedAt":{"type":"string","description":"The date and time the transaction was last updated."}}}}}}}},"400":{"description":"Invalid transaction ID format."},"404":{"description":"Transaction not found."},"500":{"description":"Server error."}}}},"/api/v1/payment-method":{"parameters":[{"$ref":"#/components/parameters/x-api-signature"}],"post":{"summary":"Create a payment method","description":"Creates a new payment method.","tags":["Payment Methods"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["channel","customerId","accountName","accountNumber","countryCode","institution"],"properties":{"channel":{"type":"string","description":"The payment method channel","enum":["BANK_ACCOUNT","SWIFT","MOBILE_MONEY","UPI","INTERAC","WE_CHAT"]},"customerId":{"type":"string","description":"The unique identifier of the customer."},"accountName":{"type":"string","description":"The name of the account holder"},"accountNumber":{"type":"string","description":"The account number"},"countryCode":{"type":"string","description":"The ISO 3166-1 alpha-2 country code. This has to be one of the countries we support"},"institution":{"description":"Transaction capabilities","type":"object","properties":{"institutionId":{"type":"string","description":"The unique identifier of the bank or mobile money provider if required."},"institutionName":{"type":"string","description":"The name of the bank or mobile money provider if required."},"institutionCode":{"type":"string","description":"The code of the bank or mobile money provider."},"institutionAddress":{"type":"string","description":"The address of the bank or mobile money provider if required."}}},"recipient":{"type":"object","properties":{"recipientEmail":{"type":"string","format":"email","description":"The email address of the recipient if needed."},"recipientPhone":{"type":"string","description":"The phone number of the recipient in E.164 format."},"recipientAddress":{"type":"string","description":"The address of the recipient if needed."},"recipientName":{"type":"string","description":"The name of the recipient if needed."}}},"transaction":{"type":"object","properties":{"transactionInvoice":{"type":"string","description":"The invoice for the transaction in base64 string."},"transactionNarration":{"type":"string","description":"The optional reason for the transaction."}}}}}}}},"responses":{"201":{"description":"Payment method created successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"paymentMethodId":{"type":"string","description":"The unique identifier for the payment method."},"customerId":{"type":"string","description":"The unique identifier of the customer."},"institution":{"type":"object","properties":{"institutionId":{"type":"string","description":"The unique identifier of the bank or mobile money provider if required."},"institutionName":{"type":"string","description":"The name of the bank or mobile money provider if required."},"institutionCode":{"type":"string","description":"The code of the bank or mobile money provider."},"institutionAddress":{"type":"string","description":"The address of the bank or mobile money provider if required."}}},"transaction":{"type":"object","properties":{"transactionInvoice":{"type":"string","description":"The invoice for the transaction in base64 string."},"transactionNarration":{"type":"string","description":"The optional reason for the transaction."}}},"channel":{"type":"string","enum":["BANK_ACCOUNT","SWIFT","MOBILE_MONEY","UPI","INTERAC","WE_CHAT"],"description":"The payment method channel."},"countryCode":{"type":"string","description":"The ISO 3166-1 alpha-2 country code."},"accountName":{"type":"string","description":"Name of the account holder."},"accountNumber":{"type":"string","description":"Account number."},"meta":{"type":"object","description":"Optional meta data you attached to the payment method."}}}}}}}},"400":{"description":"Invalid request."},"401":{"description":"Unauthorized - Invalid business API key."},"500":{"description":"Server error."}}},"get":{"summary":"Get payment method list","description":"Retrieves a paginated list of payment methods.","tags":["Payment Methods"],"parameters":[{"name":"page","in":"query","description":"Page number for pagination (starting from 1)","required":false,"schema":{"type":"integer","minimum":0,"default":0}},{"name":"limit","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","minimum":1,"maximum":50,"default":10}}],"responses":{"200":{"description":"List of payment methods retrieved successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"paymentMethodId":{"type":"string","description":"The unique identifier for the payment method."},"customerId":{"type":"string","description":"The unique identifier of the customer."},"institution":{"type":"object","properties":{"institutionId":{"type":"string","description":"The unique identifier of the bank or mobile money provider if required."},"institutionName":{"type":"string","description":"The name of the bank or mobile money provider if required."},"institutionCode":{"type":"string","description":"The code of the bank or mobile money provider."},"institutionAddress":{"type":"string","description":"The address of the bank or mobile money provider if required."}}},"transaction":{"type":"object","properties":{"transactionInvoice":{"type":"string","description":"The invoice for the transaction in base64 string."},"transactionNarration":{"type":"string","description":"The optional reason for the transaction."}}},"channel":{"type":"string","enum":["BANK_ACCOUNT","SWIFT","MOBILE_MONEY","UPI","INTERAC","WE_CHAT"],"description":"The payment method channel."},"countryCode":{"type":"string","description":"The ISO 3166-1 alpha-2 country code."},"accountName":{"type":"string","description":"Name of the account holder."},"accountNumber":{"type":"string","description":"Account number."},"meta":{"type":"object","description":"Optional meta data you attached to the payment method."}}}},"page":{"type":"integer","description":"Current page number"},"total":{"type":"integer","description":"Total number of pages"}}}}}},"400":{"description":"Invalid request parameters."},"500":{"description":"Server error."}}}},"/api/v1/payment-method/{paymentMethodId}":{"parameters":[{"$ref":"#/components/parameters/x-api-signature"}],"get":{"summary":"Get payment method by ID","description":"Retrieves a specific payment method by its unique identifier.","tags":["Payment Methods"],"parameters":[{"name":"paymentMethodId","in":"path","description":"The unique identifier of the payment method","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Payment method retrieved successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"paymentMethodId":{"type":"string","description":"The unique identifier for the payment method."},"customerId":{"type":"string","description":"The unique identifier of the customer."},"institution":{"type":"object","properties":{"institutionId":{"type":"string","description":"The unique identifier of the bank or mobile money provider if required."},"institutionName":{"type":"string","description":"The name of the bank or mobile money provider if required."},"institutionCode":{"type":"string","description":"The code of the bank or mobile money provider."},"institutionAddress":{"type":"string","description":"The address of the bank or mobile money provider if required."}}},"transaction":{"type":"object","properties":{"transactionInvoice":{"type":"string","description":"The invoice for the transaction in base64 string."},"transactionNarration":{"type":"string","description":"The optional reason for the transaction."}}},"channel":{"type":"string","enum":["BANK_ACCOUNT","SWIFT","MOBILE_MONEY","UPI","INTERAC","WE_CHAT"],"description":"The payment method channel."},"countryCode":{"type":"string","description":"The ISO 3166-1 alpha-2 country code."},"accountName":{"type":"string","description":"Name of the account holder."},"accountNumber":{"type":"string","description":"Account number."},"meta":{"type":"object","description":"Optional meta data you attached to the payment method."}}}}}}}},"400":{"description":"Request error."},"404":{"description":"Payment method not found."},"500":{"description":"Server error."}}},"delete":{"summary":"Delete payment method","description":"Removes a payment method from the system.","tags":["Payment Methods"],"parameters":[{"name":"paymentMethodId","in":"path","description":"The unique identifier of the payment method","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Payment method retrieved successfully.","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Request error."},"404":{"description":"Payment method not found."},"500":{"description":"Server error."}}}},"/api/v1/payment-method/institution":{"parameters":[{"$ref":"#/components/parameters/x-api-signature"}],"get":{"summary":"Get list of payment method institutions by country","description":"Retrieves a list of banks or mobile money providers available for a specific country.","tags":["Payment Methods"],"parameters":[{"name":"channel","in":"query","description":"The payment method channel","required":true,"schema":{"type":"string","enum":["BANK_ACCOUNT","SWIFT","MOBILE_MONEY","UPI","INTERAC","WE_CHAT"]}},{"name":"countryCode","in":"query","description":"The ISO 3166-1 alpha-2 country code","required":true,"schema":{"type":"string","enum":["US","NG","GB","DE","FR","CA","ZA","GH","KE","UG","TZ","RW","CM","CG","GA","CF","CI","BF","ML","SN","TG","BJ","NE","GN","ZM","ET","MW","MZ","BW","SL","LR","GM","GW","CV","ST","AO","KM","DJ","SO","SC","MU","SZ","LS"]}}],"responses":{"200":{"description":"List of banks or mobile money providers retrieved successfully.","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"institutionId":{"type":"string","description":"The unique identifier of the bank or mobile money provider if required."},"institutionName":{"type":"string","description":"The name of the bank or mobile money provider if required."},"institutionCode":{"type":"string","description":"The code of the bank or mobile money provider."},"institutionAddress":{"type":"string","description":"The address of the bank or mobile money provider if required."}}}}}}},"400":{"description":"Invalid request parameters."},"401":{"description":"Unauthorized - Invalid business API key."},"500":{"description":"Server error."}}}},"/api/v1/payment-method/resolve":{"parameters":[{"$ref":"#/components/parameters/x-api-signature"}],"get":{"summary":"Resolve payment method recipient by account number","description":"Resolves payment method user information for bank accounts or mobile money.","tags":["Payment Methods"],"parameters":[{"name":"channel","in":"query","description":"The payment method channel to resolve","required":true,"schema":{"type":"string","enum":["MOBILE_MONEY","BANK_ACCOUNT"]}},{"name":"accountNumber","in":"query","description":"Bank account number (required for BANK_ACCOUNT channel) or phone number (required for MOBILE_MONEY channel)","required":false,"schema":{"type":"string"}},{"name":"institutionCode","in":"query","description":"Bank code (required for BANK_ACCOUNT channel)","required":false,"schema":{"type":"string"}},{"name":"countryCode","in":"query","description":"The ISO 3166-1 alpha-2 country code","required":true,"schema":{"type":"string","enum":["NG","GH","ET","KE","MG","MW","MZ","RW","TZ","UG","CM","CG","GA","CF","CI","BF","ML","SN","TG","BJ","NE","GN","ZM"]}}],"responses":{"200":{"description":"Payment method resolved successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"recipientEmail":{"type":"string","format":"email","description":"The email address of the recipient if needed."},"recipientPhone":{"type":"string","description":"The phone number of the recipient in E.164 format."},"recipientAddress":{"type":"string","description":"The address of the recipient if needed."},"recipientName":{"type":"string","description":"The name of the recipient if needed."}}}}}},"400":{"description":"Invalid request parameters."},"401":{"description":"Unauthorized - Invalid business API key."},"404":{"description":"Payment method not found."},"500":{"description":"Server error."}}}},"/api/v1/org/balance":{"get":{"summary":"Fetch wallet balance","description":"Returns the balances of the business in the provided currencies.","tags":["Balance"],"parameters":[{"name":"currencies","in":"query","description":"Comma-separated list of currencies to fetch balances for","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Returns a map with currencies as keys and balances as values.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","additionalProperties":{"type":"number","format":"double","description":"The balance of the currency."}}},"example":{"data":{"USD":100.5,"EUR":250.75,"GBP":300}}}}}},"400":{"description":"Invalid request parameters."},"401":{"description":"Unauthorized - Invalid business API key."},"404":{"description":"Payment method not found."},"500":{"description":"Server error."}}}},"/v2/public/rates":{"get":{"summary":"Get exchange rates","description":"Retrieves real-time exchange rates for multiple base currencies and target symbols.","tags":["Rates"],"parameters":[{"name":"base","in":"query","description":"Comma-separated list of base currencies","required":true,"example":"NGN,USD,GBP,CAD,EUR","schema":{"type":"string"}},{"name":"symbols","in":"query","description":"Comma-separated list of target currencies to get rates for","required":true,"example":"NGN,USD,GBP,CAD,EUR,KES","schema":{"type":"string"}}],"responses":{"200":{"description":"Successful retrieval of rates","content":{"application/json":{"schema":{"type":"object","properties":{"rates":{"type":"object","description":"A map of base currencies to their target symbol rates","additionalProperties":{"type":"object","additionalProperties":{"type":"string"}}},"base":{"type":"array","items":{"type":"string"},"example":["NGN","USD","GBP","CAD","EUR"]},"updatedAt":{"type":"integer","format":"int64","description":"Unix timestamp of the last update","example":1761815362024}}}}}},"400":{"description":"Invalid currency codes provided."},"500":{"description":"Internal server error."}}}},"/api/v1/payment-method/crypto-wallet":{"get":{"summary":"Get or create crypto wallet payment method","description":"Retrieves an existing crypto wallet or creates a new one for the specified crypto asset. **Important:** This endpoint is **only active in production** and does **not work on staging/dev**. Supports idempotency to prevent duplicate wallet creation. Currently supports USDT and USDC assets. Send a GET request with the required `asset` parameter (and optional `customerId`). The system will either return existing wallet addresses or automatically create and return new ones if none exist for that asset/customer (or business if no customerId is provided).","tags":["Payment Methods"],"parameters":[{"name":"asset","in":"query","description":"The crypto asset symbol for the wallet","required":true,"schema":{"type":"string","enum":["USDT","USDC"]}},{"name":"customerId","in":"query","description":"Optional customer ID. If not provided, the wallet will be created for the business.","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Crypto wallet addresses retrieved or created successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"address":{"type":"string","example":"0x1234567890abcdef1234567890abcdef12345678"},"network":{"type":"string","example":"ETHEREUM_MAINNET"}}}},"total":{"type":"integer","example":2},"page":{"type":"integer","example":0}}}}}},"400":{"description":"Invalid request parameters (e.g., invalid asset, user not verified, or service not available)."},"401":{"description":"Unauthorized - Invalid business API key."},"500":{"description":"Server error."}}}},"/api/v1/payment-method/virtual-account":{"get":{"summary":"Get or create virtual account payment method","description":"Retrieves an existing virtual account or creates a new one for the specified currency. **Important:** This endpoint is **only active in production** and does **not work on staging/dev**. Send a GET request with the required `currency` parameter (and optional `amount` and `customerId`). The system will either return an existing virtual account (as a PaymentMethod object) or automatically create and return a new one if none exists for that currency/customer (or business if no customerId is provided).","tags":["Payment Methods"],"parameters":[{"name":"currency","in":"query","description":"The 3-letter ISO 4217 currency code for the virtual account","required":true,"schema":{"type":"string","enum":["USD","NGN","GBP","EUR"]}},{"name":"amount","in":"query","description":"Optional expected transaction amount (max 5,000,000)","required":false,"schema":{"type":"number","minimum":0,"maximum":5000000}},{"name":"customerId","in":"query","description":"Optional customer ID. If not provided, the account will be created for the business.","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"Virtual account retrieved or created successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"paymentMethodId":{"type":"string","description":"The unique identifier for the payment method."},"customerId":{"type":"string","description":"The unique identifier of the customer."},"institution":{"type":"object","properties":{"institutionId":{"type":"string","description":"The unique identifier of the bank or mobile money provider if required."},"institutionName":{"type":"string","description":"The name of the bank or mobile money provider if required."},"institutionCode":{"type":"string","description":"The code of the bank or mobile money provider."},"institutionAddress":{"type":"string","description":"The address of the bank or mobile money provider if required."}}},"transaction":{"type":"object","properties":{"transactionInvoice":{"type":"string","description":"The invoice for the transaction in base64 string."},"transactionNarration":{"type":"string","description":"The optional reason for the transaction."}}},"channel":{"type":"string","enum":["BANK_ACCOUNT","SWIFT","MOBILE_MONEY","UPI","INTERAC","WE_CHAT"],"description":"The payment method channel."},"countryCode":{"type":"string","description":"The ISO 3166-1 alpha-2 country code."},"accountName":{"type":"string","description":"Name of the account holder."},"accountNumber":{"type":"string","description":"Account number."},"meta":{"type":"object","description":"Optional meta data you attached to the payment method."}}}}}}}},"400":{"description":"Invalid request parameters."},"401":{"description":"Unauthorized - Invalid business API key."},"500":{"description":"Server error."}}}}},"webhooks":{"customer.events":{"post":{"summary":"Customer Events","description":"Afriex delivers real-time notifications to your configured webhook URL whenever a customer is **created**, **updated**, or **deleted**.\n\nThe payload structure is **identical** across all events. Only the `event` field changes.\n\n**Security**: Every request includes an `x-webhook-signature` header. You **must** verify this signature using Afriex's public key before processing. See the [Webhooks Overview & Security](https://afx.apidocumentation.com/guides/webhooks/overview-security) section for verification instructions.","tags":["Webhooks"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"event":{"type":"string","enum":["customer.created","customer.updated","customer.deleted"],"description":"Identifies which customer event occurred","example":"customer.updated"},"data":{"type":"object","description":"The customer data relevant to this event","properties":{"customerId":{"type":"string","description":"Unique identifier of the customer","example":"69516dd0464b2213bd74cfad"},"name":{"type":"string","example":"John Doe"},"email":{"type":"string","format":"email","example":"john.doe@example.com"},"phone":{"type":"string","example":"+2348121123445","description":"Phone number in E.164 international format"},"countryCode":{"type":"string","description":"ISO 3166-1 alpha-2 country code","example":"NG"}},"required":["customerId","name","email","phone","countryCode"],"additionalProperties":false}},"required":["event","data"],"additionalProperties":false},"examples":{"customerCreated":{"summary":"Customer Created","value":{"event":"customer.created","data":{"customerId":"69516dd0464b2213bd74cfad","name":"John Doe","email":"john.doe@example.com","phone":"+2348121123445","countryCode":"NG"}}},"customerUpdated":{"summary":"Customer Updated","value":{"event":"customer.updated","data":{"customerId":"69516dd0464b2213bd74cfad","name":"John Doe","email":"john.doe@example.com","phone":"+2348121123445","countryCode":"NG"}}},"customerDeleted":{"summary":"Customer Deleted","value":{"event":"customer.deleted","data":{"customerId":"69516dd0464b2213bd74cfad","name":"John Doe","email":"john.doe@example.com","phone":"+2348121123445","countryCode":"NG"}}}}}}},"responses":{"200":{"description":"Acknowledge receipt. Return any 2xx status code quickly. Response body is ignored."},"400":{"description":"Bad Request — malformed payload, invalid/missing signature, etc. Afriex will retry delivery."},"401":{"description":"Unauthorized — signature verification failed."}}}},"payment_method.events":{"post":{"summary":"Payment Method Events","description":"Afriex delivers real-time notifications to your configured webhook URL whenever a payment method is **created**, **updated**, or **deleted** for a customer.\n\nThe payload structure is **identical** across all events. Only the `event` field changes.\n\n**Security**: Every request includes an `x-webhook-signature` header. You **must** verify this signature using Afriex's public key before processing. See the [Webhooks Overview & Security](https://afx.apidocumentation.com/guides/webhooks/overview-security) section for verification instructions.","tags":["Webhooks"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"event":{"type":"string","enum":["PAYMENT_METHOD.CREATED","PAYMENT_METHOD.UPDATED","PAYMENT_METHOD.DELETED"],"description":"Identifies which payment method event occurred","example":"PAYMENT_METHOD.UPDATED"},"data":{"type":"object","description":"The payment method data relevant to this event","properties":{"paymentMethodId":{"type":"string","description":"Unique identifier of the payment method","example":"69528259ba52c13b669fb241"},"channel":{"type":"string","description":"Type/channel of the payment method","example":"BANK_ACCOUNT"},"customerId":{"type":"string","description":"ID of the customer this payment method belongs to","example":"69528240ba52c13b669fb239"},"institution":{"type":"object","properties":{"institutionId":{"type":"string","example":""},"institutionName":{"type":"string","example":"United Bank for Africa"},"institutionCode":{"type":"string","example":""},"institutionAddress":{"type":"string","example":""}},"description":"Bank or financial institution details (may be partial)"},"transaction":{"type":"object","properties":{"transactionInvoice":{"type":"string","example":""},"transactionNarration":{"type":"string","example":""}},"description":"Transaction-related metadata (often empty for bank accounts)"},"recipient":{"type":"object","properties":{"recipientEmail":{"type":"string","example":""},"recipientPhone":{"type":"string","example":""},"recipientAddress":{"type":"string","example":""},"recipientName":{"type":"string","example":""}},"description":"Recipient details (often empty for bank accounts)"},"accountName":{"type":"string","description":"Name on the account","example":"Sabasil"},"accountNumber":{"type":"string","description":"Account number or masked identifier","example":"2133213321"},"countryCode":{"type":"string","description":"ISO 3166-1 alpha-2 country code","example":"NG"},"meta":{"type":"object","description":"Additional flexible metadata (empty object if unused)","additionalProperties":true}},"required":["paymentMethodId","channel","customerId","accountName","accountNumber","countryCode"],"additionalProperties":false}},"required":["event","data"],"additionalProperties":false},"examples":{"paymentMethodCreated":{"summary":"Payment Method Created","value":{"event":"PAYMENT_METHOD.CREATED","data":{"paymentMethodId":"69528259ba52c13b669fb241","channel":"BANK_ACCOUNT","customerId":"69528240ba52c13b669fb239","institution":{"institutionId":"","institutionName":"United Bank for Africa","institutionCode":"","institutionAddress":""},"transaction":{"transactionInvoice":"","transactionNarration":""},"recipient":{"recipientEmail":"","recipientPhone":"","recipientAddress":"","recipientName":""},"accountName":"Sabasil","accountNumber":"2133213321","countryCode":"NG","meta":{}}}},"paymentMethodUpdated":{"summary":"Payment Method Updated","value":{"event":"PAYMENT_METHOD.UPDATED","data":{"paymentMethodId":"69528259ba52c13b669fb241","channel":"BANK_ACCOUNT","customerId":"69528240ba52c13b669fb239","institution":{"institutionId":"","institutionName":"United Bank for Africa","institutionCode":"","institutionAddress":""},"transaction":{"transactionInvoice":"","transactionNarration":""},"recipient":{"recipientEmail":"","recipientPhone":"","recipientAddress":"","recipientName":""},"accountName":"Sabasil","accountNumber":"2133213321","countryCode":"NG","meta":{}}}},"paymentMethodDeleted":{"summary":"Payment Method Deleted","value":{"event":"PAYMENT_METHOD.DELETED","data":{"paymentMethodId":"69528259ba52c13b669fb241","channel":"BANK_ACCOUNT","customerId":"69528240ba52c13b669fb239","institution":{"institutionId":"","institutionName":"United Bank for Africa","institutionCode":"","institutionAddress":""},"transaction":{"transactionInvoice":"","transactionNarration":""},"recipient":{"recipientEmail":"","recipientPhone":"","recipientAddress":"","recipientName":""},"accountName":"Sabasil","accountNumber":"2133213321","countryCode":"NG","meta":{}}}}}}}},"responses":{"200":{"description":"Acknowledge receipt. Return any 2xx status code quickly. Response body is ignored."},"400":{"description":"Bad Request — malformed payload, invalid/missing signature, etc. Afriex will retry delivery."},"401":{"description":"Unauthorized — signature verification failed."}}}},"transaction.events":{"post":{"summary":"Transaction Events","description":"Afriex sends real-time webhook notifications to your configured URL whenever a transaction is **created** or **updated**.\n\n- `TRANSACTION.CREATED`: Fired when a new transaction is initiated.\n- `TRANSACTION.UPDATED`: Fired when the transaction status or other fields change (most commonly `status` and `updatedAt`).\n\nThe payload structure is **identical** for both events. Only the `event` field and potentially `status` + `updatedAt` differ.\n\n**Security**: Every request includes an `x-webhook-signature` header. You **must** verify this signature using Afriex's public key before processing. See the [Webhooks Overview & Security](https://afx.apidocumentation.com/guides/webhooks/overview-security) section for verification instructions.","tags":["Webhooks"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"event":{"type":"string","enum":["TRANSACTION.CREATED","TRANSACTION.UPDATED"],"description":"Identifies which transaction event occurred","example":"TRANSACTION.UPDATED"},"data":{"type":"object","description":"Details of the transaction","properties":{"status":{"type":"string","description":"Current status of the transaction","enum":["PENDING","PROCESSING","COMPLETED","FAILED","CANCELLED","SUCCESS","REFUNDED","RETRY","UNKNOWN","REJECTED","IN_REVIEW"],"example":"PENDING"},"type":{"type":"string","description":"Type/direction of the transaction","example":"WITHDRAW"},"sourceAmount":{"type":"string","description":"Amount in source currency (string for precision)","example":"3.316587998"},"sourceCurrency":{"type":"string","description":"ISO 4217 source currency code","example":"USD"},"destinationAmount":{"type":"string","description":"Amount in destination currency (string)","example":"5000"},"destinationCurrency":{"type":"string","description":"ISO 4217 destination currency code","example":"NGN"},"destinationId":{"type":"string","description":"ID of the destination (e.g. payment method ID for withdrawals)","example":"695271a3ba52c13b669fad2b"},"customerId":{"type":"string","description":"ID of the customer who owns this transaction","example":"69528240ba52c13b669fb239"},"transactionId":{"type":"string","description":"Unique identifier of the transaction","example":"6952826eba52c13b669fb263"},"meta":{"type":"object","description":"Additional transaction metadata","properties":{"narration":{"type":"string","example":""},"invoice":{"type":"string","example":""},"idempotencyKey":{"type":"string","example":""},"merchantId":{"type":"string","example":""}},"additionalProperties":true},"createdAt":{"type":"string","format":"date-time","description":"ISO 8601 timestamp when the transaction was created","example":"2025-12-29T13:30:22.554Z"},"updatedAt":{"type":"string","format":"date-time","description":"ISO 8601 timestamp of the last update","example":"2025-12-29T13:30:22.554Z"}},"required":["status","type","sourceAmount","sourceCurrency","destinationAmount","destinationCurrency","destinationId","customerId","transactionId","createdAt","updatedAt"],"additionalProperties":false}},"required":["event","data"],"additionalProperties":false},"examples":{"transactionCreated":{"summary":"Transaction Created","value":{"event":"TRANSACTION.CREATED","data":{"status":"PENDING","type":"WITHDRAW","sourceAmount":"3.316587998","sourceCurrency":"USD","destinationAmount":"5000","destinationCurrency":"NGN","destinationId":"695271a3ba52c13b669fad2b","customerId":"69528240ba52c13b669fb239","transactionId":"6952826eba52c13b669fb263","meta":{"narration":"","invoice":"","idempotencyKey":"","merchantId":""},"createdAt":"2025-12-29T13:30:22.554Z","updatedAt":"2025-12-29T13:30:22.554Z"}}},"transactionUpdated":{"summary":"Transaction Updated (status changed)","value":{"event":"TRANSACTION.UPDATED","data":{"status":"COMPLETED","type":"WITHDRAW","sourceAmount":"3.316587998","sourceCurrency":"USD","destinationAmount":"5000","destinationCurrency":"NGN","destinationId":"695271a3ba52c13b669fad2b","customerId":"69528240ba52c13b669fb239","transactionId":"6952826eba52c13b669fb263","meta":{"narration":"","invoice":"","idempotencyKey":"","merchantId":""},"createdAt":"2025-12-29T13:30:22.554Z","updatedAt":"2025-12-29T13:45:10.123Z"}}}}}}},"responses":{"200":{"description":"Acknowledge receipt. Return any 2xx status code quickly. Response body is ignored."},"400":{"description":"Bad Request — malformed payload, invalid/missing signature, etc. Afriex will retry delivery."},"401":{"description":"Unauthorized — signature verification failed."}}}}},"tags":[],"x-ext-urls":{}}